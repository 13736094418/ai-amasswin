<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI.AMASSWIN.COM - ä¸“ä¸šAIåŠ©æ‰‹</title>
    <!-- å¼•å…¥å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- å¼•å…¥å›¾è¡¨åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- å¼•å…¥Mermaidæµç¨‹å›¾ -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        /* ä¸»å®¹å™¨ */
        .app-container {
            display: flex;
            height: 100vh;
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        /* å·¦ä¾§è¾¹æ  - ç±»ä¼¼å…ƒå® */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #2c3e50 0%, #1a1a2e 100%);
            color: white;
            display: flex;
            flex-direction: column;
            border-right: 1px solid rgba(255,255,255,0.1);
        }

        /* é¡¶éƒ¨LogoåŒºåŸŸ */
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #4f6df5 0%, #2a3f9d 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* æœç´¢æ¡† */
        .search-box {
            margin: 15px 0;
            padding: 8px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-box input {
            background: none;
            border: none;
            color: white;
            width: 100%;
            outline: none;
        }

        /* å†å²è®°å½•åŒºåŸŸ */
        .history-section {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 5px;
            color: #a0aec0;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .history-list {
            list-style: none;
        }

        .history-item {
            padding: 10px 12px;
            margin: 4px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .history-item.active {
            background: rgba(79, 109, 245, 0.3);
            color: white;
        }

        .history-title {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-time {
            font-size: 0.8rem;
            color: #a0aec0;
        }

        /* ä¸“ä¸šé€‰é¡¹åŒºåŸŸ */
        .professional-options {
            padding: 10px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .option-group {
            margin-bottom: 20px;
        }

        .option-group-title {
            padding: 8px 5px;
            color: #a0aec0;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .option-item {
            padding: 8px 12px;
            margin: 4px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .option-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .option-item.active {
            background: rgba(79, 109, 245, 0.3);
            color: white;
        }

        /* é¢„è§ˆ/å¯¼å‡ºåŒºåŸŸ */
        .preview-section {
            padding: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .export-options {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }

        .export-btn {
            flex: 1;
            padding: 8px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            transition: all 0.2s;
        }

        .export-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #f8fafc;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            background: white;
            padding: 0 20px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .model-selector {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
            font-size: 0.9rem;
        }

        .navbar-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background: #4f6df5;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: #3a56d4;
        }

        .action-btn.secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .action-btn.secondary:hover {
            background: #e5e7eb;
        }

        /* èŠå¤©å®¹å™¨ */
        .chat-container {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* æ¶ˆæ¯åˆ—è¡¨ */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* æ¬¢è¿æ¶ˆæ¯ */
        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: #6b7280;
        }

        .welcome-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .welcome-title {
            font-size: 2rem;
            color: #374151;
            margin-bottom: 10px;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: #6b7280;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .quick-action {
            padding: 12px 20px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
        }

        .quick-action:hover {
            background: #f9fafb;
            border-color: #4f6df5;
            transform: translateY(-2px);
        }

        /* æ¶ˆæ¯æ ·å¼ */
        .message {
            display: flex;
            gap: 12px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }

        .message.user {
            align-self: flex-end;
        }

        .message.ai {
            align-self: flex-start;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .user .message-avatar {
            background: linear-gradient(135deg, #4f6df5 0%, #2a3f9d 100%);
            color: white;
        }

        .ai .message-avatar {
            background: linear-gradient(135deg, #10b981 0%, #047857 100%);
            color: white;
        }

        .message-content {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            flex: 1;
        }

        .user .message-content {
            background: #4f6df5;
            color: white;
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .message-sender {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .message-time {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .message-text {
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .message-text pre {
            background: #1e1e1e;
            color: #f8f8f2;
            padding: 12px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 8px 0;
        }

        .message-text code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            width: 100%;
            height: 300px;
            margin: 20px 0;
        }

        /* é€»è¾‘å›¾æ ·å¼ */
        .logic-diagram {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .logic-node {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 12px;
            margin: 8px 0;
        }

        /* è¾“å…¥åŒºåŸŸ */
        .input-container {
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 20px;
        }

        .input-wrapper {
            display: flex;
            gap: 10px;
            max-width: 900px;
            margin: 0 auto;
        }

        .message-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            resize: none;
            min-height: 60px;
            max-height: 200px;
            line-height: 1.5;
        }

        .message-input:focus {
            outline: none;
            border-color: #4f6df5;
            box-shadow: 0 0 0 3px rgba(79, 109, 245, 0.1);
        }

        .send-button {
            padding: 0 24px;
            background: #4f6df5;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .send-button:hover:not(:disabled) {
            background: #3a56d4;
        }

        .send-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .input-actions {
            display: flex;
            justify-content: space-between;
            max-width: 900px;
            margin: 10px auto 0;
            font-size: 0.85rem;
            color: #6b7280;
        }

        .format-options {
            display: flex;
            gap: 10px;
        }

        .format-btn {
            padding: 4px 8px;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .format-btn.active {
            background: #4f6df5;
            color: white;
            border-color: #4f6df5;
        }

        /* åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 10px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #9ca3af;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
        }

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: auto;
            }
            .main-content {
                height: calc(100vh - 200px);
            }
        }
    </style>
</head>
<body>
    <div id="app" class="app-container">
        <!-- å·¦ä¾§è¾¹æ  -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">ğŸ¤–</div>
                    <span>AI.AMASSWIN</span>
                </div>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="æœç´¢å¯¹è¯å†å²...">
                </div>
            </div>

            <div class="history-section">
                <div class="section-title">
                    <span>å†å²è®°å½•</span>
                    <i class="fas fa-history"></i>
                </div>
                <ul class="history-list" id="historyList">
                    <!-- å†å²è®°å½•å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </ul>
            </div>

            <div class="professional-options">
                <div class="option-group">
                    <div class="option-group-title">ä¸“ä¸šåˆ†æ</div>
                    <div class="option-item" onclick="selectOption('market-research')">
                        <i class="fas fa-chart-line"></i>
                        <span>å¸‚åœºè°ƒç ”</span>
                    </div>
                    <div class="option-item" onclick="selectOption('marketing-plan')">
                        <i class="fas fa-bullhorn"></i>
                        <span>è¥é”€æ–¹æ¡ˆ</span>
                    </div>
                    <div class="option-item" onclick="selectOption('policy-analysis')">
                        <i class="fas fa-file-contract"></i>
                        <span>æ”¿ç­–åˆ†æ</span>
                    </div>
                    <div class="option-item" onclick="selectOption('finance')">
                        <i class="fas fa-chart-pie"></i>
                        <span>ä¸Šå¸‚é‡‘è</span>
                    </div>
                </div>

                <div class="option-group">
                    <div class="option-group-title">æŠ€æœ¯è®¾è®¡</div>
                    <div class="option-item" onclick="selectOption('product-design')">
                        <i class="fas fa-cube"></i>
                        <span>äº§å“è§„åˆ’</span>
                    </div>
                    <div class="option-item" onclick="selectOption('structural-design')">
                        <i class="fas fa-project-diagram"></i>
                        <span>ç»“æ„è®¾è®¡</span>
                    </div>
                    <div class="option-item" onclick="selectOption('electrical-design')">
                        <i class="fas fa-bolt"></i>
                        <span>ç”µæ°”è®¾è®¡</span>
                    </div>
                    <div class="option-item" onclick="selectOption('software-design')">
                        <i class="fas fa-code"></i>
                        <span>è½¯ä»¶è®¾è®¡</span>
                    </div>
                </div>
            </div>

            <div class="preview-section">
                <div class="option-group-title">å¯¼å‡ºé€‰é¡¹</div>
                <div class="export-options">
                    <button class="export-btn" onclick="exportAsPDF()">
                        <i class="fas fa-file-pdf"></i> PDF
                    </button>
                    <button class="export-btn" onclick="exportAsExcel()">
                        <i class="fas fa-file-excel"></i> Excel
                    </button>
                    <button class="export-btn" onclick="exportAsImage()">
                        <i class="fas fa-image"></i> å›¾ç‰‡
                    </button>
                </div>
            </div>
        </div>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
            <div class="navbar">
                <div class="navbar-left">
                    <select class="model-selector" id="modelSelector">
                        <option value="deepseek-chat">DeepSeek Chat</option>
                        <option value="deepseek-coder">DeepSeek Coder</option>
                        <option value="gpt-3.5">GPT-3.5</option>
                        <option value="claude">Claude</option>
                    </select>
                </div>
                <div class="navbar-actions">
                    <button class="action-btn secondary" onclick="clearHistory()">
                        <i class="fas fa-trash"></i> æ¸…ç©ºå¯¹è¯
                    </button>
                    <button class="action-btn" onclick="newChat()">
                        <i class="fas fa-plus"></i> æ–°å»ºå¯¹è¯
                    </button>
                </div>
            </div>

            <!-- èŠå¤©åŒºåŸŸ -->
            <div class="chat-container">
                <div class="messages-container" id="messagesContainer">
                    <!-- æ¬¢è¿æ¶ˆæ¯ -->
                    <div class="welcome-message">
                        <div class="welcome-icon">ğŸ¯</div>
                        <h1 class="welcome-title">AI.AMASSWIN ä¸“ä¸šåŠ©æ‰‹</h1>
                        <p class="welcome-subtitle">
                            æˆ‘æ˜¯æ‚¨çš„ä¸“ä¸šAIåŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨è¿›è¡Œå¸‚åœºåˆ†æã€æŠ€æœ¯è®¾è®¡ã€é‡‘èè§„åˆ’ç­‰ä¸“ä¸šä»»åŠ¡ã€‚<br>
                            æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼šå›¾è¡¨ã€é€»è¾‘å›¾ã€æµç¨‹å›¾ã€SWOTåˆ†æç­‰ã€‚
                        </p>
                        <div class="quick-actions">
                            <div class="quick-action" onclick="quickStart('market-analysis')">
                                <strong>ğŸ“ˆ å¸‚åœºåˆ†æ</strong><br>
                                <small>ç”Ÿæˆå¸‚åœºè°ƒç ”æŠ¥å‘Šå’ŒSWOTåˆ†æ</small>
                            </div>
                            <div class="quick-action" onclick="quickStart('tech-design')">
                                <strong>ğŸ’» æŠ€æœ¯è®¾è®¡</strong><br>
                                <small>è½¯ä»¶æ¶æ„å’Œç³»ç»Ÿè®¾è®¡</small>
                            </div>
                            <div class="quick-action" onclick="quickStart('financial-plan')">
                                <strong>ğŸ’° è´¢åŠ¡è§„åˆ’</strong><br>
                                <small>æŠ•èµ„åˆ†æå’Œè´¢åŠ¡æ¨¡å‹</small>
                            </div>
                            <div class="quick-action" onclick="quickStart('project-plan')">
                                <strong>ğŸ“Š é¡¹ç›®ç®¡ç†</strong><br>
                                <small>ç”˜ç‰¹å›¾å’Œèµ„æºè§„åˆ’</small>
                            </div>
                        </div>
                    </div>

                    <!-- æ¶ˆæ¯å°†é€šè¿‡JSåŠ¨æ€æ·»åŠ  -->
                </div>

                <!-- è¾“å…¥åŒºåŸŸ -->
                <div class="input-container">
                    <div class="input-wrapper">
                        <textarea 
                            class="message-input" 
                            id="messageInput" 
                            placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜æˆ–ä¸“ä¸šéœ€æ±‚..." 
                            rows="1"
                            onkeydown="handleKeydown(event)"
                        ></textarea>
                        <button class="send-button" id="sendButton" onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i> å‘é€
                        </button>
                    </div>
                    <div class="input-actions">
                        <div class="format-options">
                            <span>è¾“å‡ºæ ¼å¼ï¼š</span>
                            <button class="format-btn active" onclick="setFormat('text')">æ–‡æœ¬</button>
                            <button class="format-btn" onclick="setFormat('chart')">å›¾è¡¨</button>
                            <button class="format-btn" onclick="setFormat('swot')">SWOT</button>
                            <button class="format-btn" onclick="setFormat('gantt')">ç”˜ç‰¹å›¾</button>
                        </div>
                        <div>
                            æŒ‰ Enter å‘é€ï¼ŒShift + Enter æ¢è¡Œ
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScriptä»£ç  -->
    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });

        // Vueå®ä¾‹
        const { createApp, ref, onMounted, nextTick } = Vue;

        createApp({
            setup() {
                const messages = ref([]);
                const inputMessage = ref('');
                const loading = ref(false);
                const selectedModel = ref('deepseek-chat');
                const outputFormat = ref('text');
                const history = ref([]);
                const currentChatId = ref(Date.now().toString());

                // å¿«é€Ÿå¼€å§‹
                const quickStart = (type) => {
                    const prompts = {
                        'market-analysis': 'è¯·å¸®æˆ‘åšä¸€ä¸ªæ™ºèƒ½æ‰‹æœºå¸‚åœºçš„SWOTåˆ†æå’Œç«äº‰æ ¼å±€åˆ†æï¼Œä½¿ç”¨å›¾è¡¨å±•ç¤º',
                        'tech-design': 'è¯·è®¾è®¡ä¸€ä¸ªå¾®æœåŠ¡æ¶æ„çš„ç”µå•†ç³»ç»Ÿï¼ŒåŒ…å«æŠ€æœ¯é€‰å‹å’Œæ¶æ„å›¾',
                        'financial-plan': 'è¯·åˆ†æä¸€ä¸ªåˆåˆ›å…¬å¸çš„è´¢åŠ¡æ¨¡å‹ï¼ŒåŒ…æ‹¬ç°é‡‘æµé¢„æµ‹å’ŒæŠ•èµ„å›æŠ¥ç‡è®¡ç®—',
                        'project-plan': 'è¯·ä¸ºä¸€ä¸ªè½¯ä»¶å¼€å‘é¡¹ç›®åˆ›å»ºç”˜ç‰¹å›¾å’Œèµ„æºåˆ†é…è®¡åˆ’'
                    };
                    
                    inputMessage.value = prompts[type];
                    sendMessage();
                };

                // å‘é€æ¶ˆæ¯
                const sendMessage = async () => {
                    if (!inputMessage.value.trim() || loading.value) return;
                    
                    const userMessage = {
                        id: Date.now(),
                        role: 'user',
                        content: inputMessage.value.trim(),
                        timestamp: new Date().toLocaleTimeString('zh-CN')
                    };
                    
                    messages.value.push(userMessage);
                    saveToHistory(inputMessage.value.trim());
                    
                    const prompt = inputMessage.value;
                    inputMessage.value = '';
                    loading.value = true;
                    scrollToBottom();
                    
                    try {
                        // è°ƒç”¨AI API
                        const response = await callAIAPI(prompt, selectedModel.value, outputFormat.value);
                        
                        const aiMessage = {
                            id: Date.now() + 1,
                            role: 'ai',
                            content: response,
                            timestamp: new Date().toLocaleTimeString('zh-CN'),
                            format: outputFormat.value
                        };
                        
                        messages.value.push(aiMessage);
                    } catch (error) {
                        console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error);
                        const errorMessage = {
                            id: Date.now() + 1,
                            role: 'ai',
                            content: `æŠ±æ­‰ï¼Œå‘ç”Ÿé”™è¯¯ï¼š${error.message}`,
                            timestamp: new Date().toLocaleTimeString('zh-CN')
                        };
                        messages.value.push(errorMessage);
                    } finally {
                        loading.value = false;
                        saveChat();
                        scrollToBottom();
                    }
                };

                // æ¨¡æ‹ŸAI APIè°ƒç”¨
                const callAIAPI = async (prompt, model, format) => {
                    // è¿™é‡Œåº”è¯¥è°ƒç”¨å®é™…çš„API
                    // ä¸ºæ¼”ç¤ºç›®çš„ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            let response = '';
                            
                            if (format === 'chart') {
                                response = generateChartResponse(prompt);
                            } else if (format === 'swot') {
                                response = generateSWOTResponse(prompt);
                            } else if (format === 'gantt') {
                                response = generateGanttResponse(prompt);
                            } else {
                                response = generateTextResponse(prompt);
                            }
                            
                            resolve(response);
                        }, 1500);
                    });
                };

                // ç”Ÿæˆæ–‡æœ¬å“åº”
                const generateTextResponse = (prompt) => {
                    return `è¿™æ˜¯å¯¹"${prompt}"çš„è¯¦ç»†åˆ†æï¼š

## ğŸ“Š åˆ†ææ¦‚è§ˆ

åŸºäºæ‚¨çš„é—®é¢˜ï¼Œæˆ‘è¿›è¡Œäº†æ·±å…¥åˆ†æï¼š

### å…³é”®å‘ç°
1. **ä¸»è¦è¶‹åŠ¿**ï¼šå¸‚åœºå‘ˆç°ç¨³å®šå¢é•¿æ€åŠ¿
2. **æœºä¼šç‚¹**ï¼šæ–°æŠ€æœ¯åº”ç”¨å¸¦æ¥æ–°çš„å¢é•¿ç©ºé—´
3. **é£é™©å› ç´ **ï¼šæ”¿ç­–å˜åŒ–å’Œå¸‚åœºç«äº‰åŠ å‰§

### è¯¦ç»†åˆ†æ
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

### å»ºè®®æ–¹æ¡ˆ
1. çŸ­æœŸç­–ç•¥ï¼šèšç„¦æ ¸å¿ƒä¸šåŠ¡
2. ä¸­æœŸè§„åˆ’ï¼šæ‹“å±•æ–°å¸‚åœº
3. é•¿æœŸæ„¿æ™¯ï¼šå»ºç«‹è¡Œä¸šé¢†å¯¼åœ°ä½

---
*åˆ†æå®Œæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}*`;
                };

                // ç”Ÿæˆå›¾è¡¨å“åº”
                const generateChartResponse = (prompt) => {
                    return `# ğŸ“ˆ å›¾è¡¨åˆ†æï¼š${prompt}

æˆ‘å·²ä¸ºæ‚¨ç”Ÿæˆäº†ä¸“ä¸šçš„å›¾è¡¨åˆ†æï¼š

## å¸‚åœºè¶‹åŠ¿å›¾
<div id="marketChart" style="width: 100%; height: 300px;"></div>

## ç«äº‰æ ¼å±€åˆ†æ
| å…¬å¸ | å¸‚åœºä»½é¢ | å¢é•¿ç‡ | ç«äº‰åŠ› |
|------|----------|--------|--------|
| å…¬å¸A | 35% | +12% | â­â­â­â­â­ |
| å…¬å¸B | 28% | +8% | â­â­â­â­ |
| å…¬å¸C | 22% | +15% | â­â­â­â­ |
| å…¬å¸D | 15% | +5% | â­â­â­ |

<script>
    // è¿™é‡Œä¼šåˆå§‹åŒ–EChartså›¾è¡¨
    setTimeout(() => {
        const chart = echarts.init(document.getElementById('marketChart'));
        chart.setOption({
            title: { text: 'å¸‚åœºè¶‹åŠ¿åˆ†æ' },
            xAxis: { data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'] },
            yAxis: {},
            series: [{
                name: 'é”€é‡',
                type: 'line',
                data: [120, 200, 150, 80, 70, 110]
            }]
        });
    }, 100);
</script>`;
                };

                // ç”ŸæˆSWOTåˆ†æ
                const generateSWOTResponse = (prompt) => {
                    return `# ğŸ¯ SWOTåˆ†æï¼š${prompt}

## ä¼˜åŠ¿ (Strengths)
- âœ… å¼ºå¤§çš„å“ç‰Œå½±å“åŠ›
- âœ… ä¼˜ç§€çš„æŠ€æœ¯å›¢é˜Ÿ
- âœ… å®Œå–„çš„äº§å“ç”Ÿæ€
- âœ… è‰¯å¥½çš„å®¢æˆ·å…³ç³»

## åŠ£åŠ¿ (Weaknesses)
- âŒ ç ”å‘æŠ•å…¥ä¸è¶³
- âŒ å¸‚åœºè¦†ç›–æœ‰é™
- âŒ ä¾›åº”é“¾ä¾èµ–åº¦é«˜
- âŒ äººæ‰å‚¨å¤‡ä¸è¶³

## æœºä¼š (Opportunities)
- ğŸŒŸ æ–°æŠ€æœ¯å¸¦æ¥åˆ›æ–°ç©ºé—´
- ğŸŒŸ æ”¿ç­–æ”¯æŒè¡Œä¸šå‘å±•
- ğŸŒŸ æ–°å…´å¸‚åœºéœ€æ±‚å¢é•¿
- ğŸŒŸ æ•°å­—åŒ–è½¬å‹æµªæ½®

## å¨èƒ (Threats)
- âš ï¸ ç«äº‰å¯¹æ‰‹æŠ€æœ¯çªç ´
- âš ï¸ åŸææ–™ä»·æ ¼ä¸Šæ¶¨
- âš ï¸ æ”¿ç­–ç›‘ç®¡è¶‹ä¸¥
- âš ï¸ ç»æµå‘¨æœŸæ³¢åŠ¨

## æˆ˜ç•¥å»ºè®®
1. **SOæˆ˜ç•¥**ï¼šåˆ©ç”¨ä¼˜åŠ¿æŠ“ä½æœºä¼š
2. **STæˆ˜ç•¥**ï¼šåˆ©ç”¨ä¼˜åŠ¿è§„é¿å¨èƒ
3. **WOæˆ˜ç•¥**ï¼šæ”¹è¿›åŠ£åŠ¿æŠŠæ¡æœºä¼š
4. **WTæˆ˜ç•¥**ï¼šå‡å°‘åŠ£åŠ¿é¿å…å¨èƒ`;
                };

                // ç”Ÿæˆç”˜ç‰¹å›¾
                const generateGanttResponse = (prompt) => {
                    return `# ğŸ“… é¡¹ç›®è®¡åˆ’ï¼š${prompt}

## é¡¹ç›®ç”˜ç‰¹å›¾
\`\`\`mermaid
gantt
    title é¡¹ç›®å¼€å‘æ—¶é—´è¡¨
    dateFormat  YYYY-MM-DD
    section éœ€æ±‚é˜¶æ®µ
    éœ€æ±‚è°ƒç ”           :a1, 2024-01-01, 15d
    éœ€æ±‚åˆ†æ           :a2, after a1, 10d
    section è®¾è®¡é˜¶æ®µ
    ç³»ç»Ÿè®¾è®¡           :b1, after a2, 20d
    æŠ€æœ¯é€‰å‹           :b2, after b1, 5d
    section å¼€å‘é˜¶æ®µ
    å‰ç«¯å¼€å‘           :c1, after b2, 30d
    åç«¯å¼€å‘           :c2, after b2, 35d
    section æµ‹è¯•é˜¶æ®µ
    å•å…ƒæµ‹è¯•           :d1, after c1, 15d
    é›†æˆæµ‹è¯•           :d2, after d1, 10d
    section ä¸Šçº¿
    éƒ¨ç½²ä¸Šçº¿           :e1, after d2, 5d
\`\`\`

## èµ„æºåˆ†é…
| é˜¶æ®µ | è´Ÿè´£äºº | å‚ä¸äººå‘˜ | é¢„ç®— | è¿›åº¦ |
|------|--------|----------|------|------|
| éœ€æ±‚ | å¼ ä¸‰ | 5äºº | 10ä¸‡ | 20% |
| è®¾è®¡ | æå›› | 3äºº | 15ä¸‡ | 10% |
| å¼€å‘ | ç‹äº” | 8äºº | 50ä¸‡ | 5% |
| æµ‹è¯• | èµµå…­ | 4äºº | 20ä¸‡ | 0% |
| ä¸Šçº¿ | å­™ä¸ƒ | 2äºº | 5ä¸‡ | 0% |

## å…³é”®é‡Œç¨‹ç¢‘
1. **M1** (2024-01-15): éœ€æ±‚ç¡®è®¤
2. **M2** (2024-02-10): è®¾è®¡è¯„å®¡
3. **M3** (2024-03-20): å¼€å‘å®Œæˆ
4. **M4** (2024-04-10): æµ‹è¯•å®Œæˆ
5. **M5** (2024-04-15): æ­£å¼ä¸Šçº¿`;
                };

                // ä¿å­˜åˆ°å†å²è®°å½•
                const saveToHistory = (content) => {
                    const historyItem = {
                        id: Date.now(),
                        title: content.length > 30 ? content.substring(0, 30) + '...' : content,
                        content: content,
                        time: new Date().toLocaleTimeString('zh-CN'),
                        date: new Date().toLocaleDateString('zh-CN')
                    };
                    
                    history.value.unshift(historyItem);
                    if (history.value.length > 50) {
                        history.value = history.value.slice(0, 50);
                    }
                    
                    localStorage.setItem('chatHistory', JSON.stringify(history.value));
                };

                // ä¿å­˜èŠå¤©
                const saveChat = () => {
                    const chatData = {
                        id: currentChatId.value,
                        messages: messages.value,
                        createdAt: new Date().toISOString()
                    };
                    
                    localStorage.setItem(`chat_${currentChatId.value}`, JSON.stringify(chatData));
                };

                // æ¸…ç©ºå¯¹è¯
                const clearChat = () => {
                    if (confirm('ç¡®å®šè¦æ¸…ç©ºå½“å‰å¯¹è¯å—ï¼Ÿ')) {
                        messages.value = [];
                        currentChatId.value = Date.now().toString();
                    }
                };

                // æ–°å»ºå¯¹è¯
                const newChat = () => {
                    saveChat();
                    messages.value = [];
                    currentChatId.value = Date.now().toString();
                };

                // åŠ è½½å†å²
                const loadHistory = () => {
                    const saved = localStorage.getItem('chatHistory');
                    if (saved) {
                        try {
                            history.value = JSON.parse(saved);
                        } catch (e) {
                            console.error('åŠ è½½å†å²è®°å½•å¤±è´¥:', e);
                        }
                    }
                };

                // è®¾ç½®è¾“å‡ºæ ¼å¼
                const setFormat = (format) => {
                    outputFormat.value = format;
                    
                    // æ›´æ–°æŒ‰é’®æ ·å¼
                    document.querySelectorAll('.format-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    event.target.classList.add('active');
                };

                // æ»šåŠ¨åˆ°åº•éƒ¨
                const scrollToBottom = () => {
                    nextTick(() => {
                        const container = document.getElementById('messagesContainer');
                        if (container) {
                            container.scrollTop = container.scrollHeight;
                        }
                    });
                };

                // é”®ç›˜äº‹ä»¶
                const handleKeydown = (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMessage();
                    }
                };

                // å¯¼å‡ºåŠŸèƒ½
                const exportAsPDF = () => {
                    alert('PDFå¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...');
                };

                const exportAsExcel = () => {
                    alert('Excelå¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...');
                };

                const exportAsImage = () => {
                    alert('å›¾ç‰‡å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...');
                };

                onMounted(() => {
                    loadHistory();
                    // è‡ªåŠ¨è°ƒæ•´è¾“å…¥æ¡†é«˜åº¦
                    const textarea = document.getElementById('messageInput');
                    if (textarea) {
                        textarea.addEventListener('input', function() {
                            this.style.height = 'auto';
                            this.style.height = (this.scrollHeight) + 'px';
                        });
                    }
                });

                return {
                    messages,
                    inputMessage,
                    loading,
                    selectedModel,
                    outputFormat,
                    history,
                    sendMessage,
                    clearChat,
                    newChat,
                    setFormat,
                    handleKeydown,
                    exportAsPDF,
                    exportAsExcel,
                    exportAsImage,
                    quickStart
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
